{"ast":null,"code":"var _jsxFileName = \"/Users/zindesss/Desktop/apartment-fe/src/admin/department/Form/DepartmentFormEdit.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { getBuilding, getBuildings } from \"../../../api/buildingAPI\";\nimport { get } from \"../../../common/departmentAPI\";\nimport Content from \"../../../core/Content\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DepartmentFormEdit = () => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [buildings, setBuildings] = useState([]);\n  const history = useHistory();\n  const options = [{\n    label: \"Hoạt động\",\n    value: 0\n  }, {\n    label: \"Không hoạt động\",\n    value: 1\n  }];\n  const {\n    id\n  } = useParams();\n  const [department, setDepartment] = useState({});\n  useEffect(() => {\n    try {\n      const getBuildingList = async () => {\n        const {\n          data\n        } = await getBuildings(\"\");\n        setBuildings(data.data);\n      };\n\n      getBuildingList();\n    } catch (error) {\n      console.log(error.response.message);\n    }\n  }, []);\n  useEffect(() => {\n    const getDepartment = async () => {\n      try {\n        const {\n          data\n        } = await get(id);\n        setDepartment(data.data[0]);\n        reset(data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    getDepartment();\n  }, []);\n  useEffect(() => {\n    const getBuild = async () => {\n      const {\n        data\n      } = await getBuilding();\n      console.log('building: ', data);\n    };\n\n    getBuild();\n  }, []);\n  console.log(typeof department);\n  console.log(department); // const onSubmit = (item) => {\n  //   const updateItem = {\n  //     id,\n  //     ...item\n  //   };\n  //   console.log(updateItem);\n  //   edit(updateItem);\n  // }\n\n  const addDepartments = async item => {\n    console.log(item);\n\n    try {\n      alert('Thêm mới thành công');\n      axios.post(`http://apartment-system.xyz/api/apartment/edit/${id}`, item).then(() => {\n        var Toast = Swal.mixin({\n          toast: true,\n          position: \"top-end\",\n          showConfirmButton: false,\n          timer: 3000\n        });\n        Toast.fire({\n          icon: \"success\",\n          title: \"Sửa thành công.\"\n        });\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const onSubmit = item => {\n    addDepartments(item);\n  };\n\n  const editDepartment = () => {\n    var _errors$apartment_id, _errors$apartment_id2, _errors$square_meters;\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card card-primary\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"exampleInputEmail1\",\n                    children: \"T\\xEAn c\\u0103n h\\u1ED9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    defaultValue: department.apartment_id,\n                    className: \"form-control\",\n                    id: \"exampleInputEmail1\",\n                    placeholder: \"Nh\\u1EADp m\\xE3 c\\u0103n h\\u1ED9\",\n                    ...register('apartment_id', {\n                      required: true,\n                      pattern: /^[a-zA-Z0-9_.-]*$/i\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 21\n                  }, this), (errors === null || errors === void 0 ? void 0 : (_errors$apartment_id = errors.apartment_id) === null || _errors$apartment_id === void 0 ? void 0 : _errors$apartment_id.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: \"H\\xE3y nh\\u1EADp tr\\u01B0\\u1EDDng n\\xE0y\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 67\n                  }, this), (errors === null || errors === void 0 ? void 0 : (_errors$apartment_id2 = errors.apartment_id) === null || _errors$apartment_id2 === void 0 ? void 0 : _errors$apartment_id2.type) === \"pattern\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: \"H\\xE3y nh\\u1EADp c\\xE1c k\\xFD t\\u1EEB A-z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 66\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"exampleInputEmail1\",\n                    children: \"T\\xF2a nh\\xE0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", { ...register('building_id'),\n                    className: \"form-control\",\n                    children: buildings.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: item.id,\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"exampleInputEmail1\",\n                    children: \"Di\\u1EC7n t\\xEDch c\\u0103n h\\u1ED9 c\\u0103n h\\u1ED9 (m2)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register('square_meter', {\n                      pattern: /^[0-9]*$/\n                    }),\n                    defaultValue: department.square_meters,\n                    type: \"text\",\n                    className: \"form-control\",\n                    id: \"number\",\n                    name: \"square_meter\",\n                    placeholder: \"Nh\\u1EADp k\\xEDch th\\u01B0\\u1EDBc c\\u0103n h\\u1ED9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 21\n                  }, this), (errors === null || errors === void 0 ? void 0 : (_errors$square_meters = errors.square_meters) === null || _errors$square_meters === void 0 ? void 0 : _errors$square_meters.type) === \"pattern\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: \"H\\xE3y nh\\u1EADp c\\xE1c k\\xFD t\\u1EEB l\\xE0 s\\u1ED1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 67\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"M\\xF4 t\\u1EA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", { ...register('description'),\n                    class: \"form-control\",\n                    children: options.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: item.value,\n                      children: item.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Ki\\u1EC3u ph\\xF2ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", { ...register('type_apartment'),\n                    class: \"form-control\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"0\",\n                      children: \"C\\xF3 ban c\\xF4ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"1\",\n                      children: \"Kh\\xF4ng c\\xF3 ban c\\xF4ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Tr\\u1EA1ng th\\xE1i\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", { ...register('description'),\n                    defaultValue: department.description,\n                    className: \"form-control\",\n                    rows: 12,\n                    placeholder: \"M\\xF4 t\\u1EA3 ...\",\n                    defaultValue: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                history.goBack();\n              },\n              type: \"button\",\n              class: \"btn btn-default float-left\",\n              children: \"Quay l\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-info float-right\",\n              children: \"Th\\xEAm m\\u1EDBi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Content, {\n    title: \"S\\u1EEDa th\\xF4ng tin c\\u0103n h\\u1ED9\",\n    children: editDepartment()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 10\n  }, this);\n};\n\n_s(DepartmentFormEdit, \"Ictc/LLNcdfZ4phS3G6UA5gUKUg=\", false, function () {\n  return [useForm, useHistory, useParams];\n});\n\n_c = DepartmentFormEdit;\nexport default DepartmentFormEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"DepartmentFormEdit\");","map":{"version":3,"sources":["/Users/zindesss/Desktop/apartment-fe/src/admin/department/Form/DepartmentFormEdit.js"],"names":["axios","React","useEffect","useState","useForm","Link","useParams","useHistory","Swal","getBuilding","getBuildings","get","Content","DepartmentFormEdit","register","handleSubmit","reset","formState","errors","buildings","setBuildings","history","options","label","value","id","department","setDepartment","getBuildingList","data","error","console","log","response","message","getDepartment","getBuild","addDepartments","item","alert","post","then","Toast","mixin","toast","position","showConfirmButton","timer","fire","icon","title","onSubmit","editDepartment","apartment_id","required","pattern","type","map","name","square_meters","description","goBack"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { getBuilding, getBuildings } from \"../../../api/buildingAPI\";\nimport { get } from \"../../../common/departmentAPI\";\nimport Content from \"../../../core/Content\";\nconst DepartmentFormEdit = () => {\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors }\n  } = useForm();\n\n  const [buildings, setBuildings] = useState([])\n  const history = useHistory();\n\n  const options = [\n    {\n      label: \"Hoạt động\",\n      value: 0\n    },\n    {\n      label: \"Không hoạt động\",\n      value: 1\n    },\n  ]\n\n  const { id } = useParams();\n  const [department, setDepartment] = useState({});\n\n  useEffect(() => {\n    try {\n      const getBuildingList = async () => {\n        const { data } = await getBuildings(\"\");\n        setBuildings(data.data)\n      }\n      getBuildingList();\n    } catch (error) {\n      console.log(error.response.message);\n    }\n  }, [])\n\n  useEffect(() => {\n    const getDepartment = async () => {\n      try {\n        const { data } = await get(id);\n        setDepartment(data.data[0]);\n        reset(data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    getDepartment();\n  }, []);\n\n  useEffect(() => {\n    const getBuild = async () => {\n      const { data } = await getBuilding();\n      console.log('building: ', data);\n    }\n    getBuild();\n  }, [])\n  console.log(typeof (department));\n  console.log(department);\n  // const onSubmit = (item) => {\n  //   const updateItem = {\n  //     id,\n  //     ...item\n  //   };\n  //   console.log(updateItem);\n  //   edit(updateItem);\n  // }\n\n  const addDepartments = async (item) => {\n    console.log(item);\n    try {\n      alert('Thêm mới thành công');\n      axios\n        .post(`http://apartment-system.xyz/api/apartment/edit/${id}`, item)\n        .then(() => {\n          var Toast = Swal.mixin({\n            toast: true,\n            position: \"top-end\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          Toast.fire({\n            icon: \"success\",\n            title: \"Sửa thành công.\",\n          });\n        });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  const onSubmit = (item) => {\n    addDepartments(item)\n  }\n\n  const editDepartment = () => {\n    return (\n      <div className=\"col-md-12\">\n        <div className=\"card card-primary\">\n\n          {/* /.card-header */}\n          {/* form start */}\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <div className=\"col-md-6\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputEmail1\">Tên căn hộ</label>\n                    <input\n                      type=\"text\"\n                      defaultValue={department.apartment_id}\n                      className=\"form-control\"\n                      id=\"exampleInputEmail1\"\n                      placeholder=\"Nhập mã căn hộ\"\n                      {...register('apartment_id', {\n                        required: true,\n                        pattern: /^[a-zA-Z0-9_.-]*$/i\n                      })}\n                    />\n                    {errors?.apartment_id?.type === \"required\" && <p className=\"text-danger\">Hãy nhập trường này</p>}\n                    {errors?.apartment_id?.type === \"pattern\" && <p className=\"text-danger\">Hãy nhập các ký từ A-z</p>}\n                  </div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputEmail1\">Tòa nhà</label>\n                    <select {...register('building_id')} className=\"form-control\">\n                      {buildings.map((item) => (\n                        <option value={item.id}>{item.name}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputEmail1\">Diện tích căn hộ căn hộ (m2)</label>\n                    <input\n                      {...register('square_meter', {\n                        pattern: /^[0-9]*$/\n                      })}\n                      defaultValue={department.square_meters}\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"number\"\n                      name=\"square_meter\"\n                      placeholder=\"Nhập kích thước căn hộ\"\n                    />\n                    {errors?.square_meters?.type === \"pattern\" && <p className=\"text-danger\">Hãy nhập các ký từ là số</p>}\n                  </div>\n                  <div class=\"form-group\">\n                    <label>Mô tả</label>\n                    <select {...register('description')} class=\"form-control\">\n                      {options.map((item) => (\n                        <option value={item.value}>{item.label}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div class=\"form-group\">\n                    <label>Kiểu phòng</label>\n                    <select {...register('type_apartment')} class=\"form-control\">\n                      <option value=\"0\">Có ban công</option>\n                      <option value=\"1\">Không có ban công</option>\n                    </select>\n                  </div>\n                  {/* <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputEmail1\">Tầng</label>\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"exampleInputEmail1\"\n                      defaultValue={department.floor}\n                      placeholder=\"Nhập tâng căn hộ\"\n                      {...register('floor', {\n                        required: true,\n                        pattern: /^[a-zA-Z0-9_.-]*$/i\n                      })}\n                    />\n                    {errors?.floor?.type === \"required\" && <p className=\"text-danger\">Hãy nhập trường này</p>}\n                    {errors?.floor?.type === \"pattern\" && <p className=\"text-danger\">Hãy nhập các ký từ A-z</p>}\n                  </div> */}\n                </div>\n                <div className=\"col-md-6\">\n                  <div class=\"form-group\">\n                    <label>Trạng thái</label>\n                    <textarea {...register('description')} defaultValue={department.description} className=\"form-control\" rows={12} placeholder=\"Mô tả ...\" defaultValue={\"\"} />\n                  </div>\n                </div>\n              </div>\n            </div>\n            {/* /.card-body */}\n            <div class=\"card-footer\">\n              <button onClick={() => {\n                history.goBack();\n              }} type=\"button\" class=\"btn btn-default float-left\">\n                Quay lại\n              </button>\n              <button type=\"submit\" class=\"btn btn-info float-right\">\n                Thêm mới\n              </button>\n            </div>\n          </form>\n        </div >\n      </div >\n    );\n  };\n  return <Content title=\"Sửa thông tin căn hộ\">{editDepartment()}</Content>;\n};\n\nexport default DepartmentFormEdit;\n"]},"metadata":{},"sourceType":"module"}